{"version":3,"sources":["webpack:///2.js","webpack:///./src/components/page/Cars.vue","webpack:///src/components/page/Cars.vue","webpack:///./src/components/page/Cars.vue?905f"],"names":["webpackJsonp","173","module","__webpack_exports__","__webpack_require__","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_Cars_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_8f3af044_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_Cars_vue__","normalizeComponent","Component","178","data","tableData","carNumber","created","this","loadData","methods","filterHandler","row","column","console","log","search","_this","$notify","warning","title","message","$http","get","params","then","response","body","code","records","length","info","active","carSn","msg","_this2","success","_this3","forEach","obj","id","online","tbox","connected","soc","status","toFixed","odo","acc","charging","ready","door","lock","speed","push","fillTable","_this4","self","fillter","inputRegx","RegExp","test","replace","carNumberChange","detail","$router","185","render","_vm","_h","$createElement","_c","_self","attrs","separator-class","href","_v","staticStyle","margin-top","placeholder","on","change","model","callback","$$v","expression","click","width","stripe","border","label","scopedSlots","_u","key","fn","scope","color","text-decoration","to","_s","staticClass","font-size","prop","type","staticRenderFns","esExports"],"mappings":"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","file":"2.js?43216af7ffa2db929a6c","sourcesContent":["webpackJsonp([2],{\n\n/***/ 173:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_Cars_vue__ = __webpack_require__(178);\n/* empty harmony namespace reexport */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_8f3af044_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_Cars_vue__ = __webpack_require__(185);\nvar normalizeComponent = __webpack_require__(72)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_Cars_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_8f3af044_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_Cars_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 178:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n    data: function data() {\n        return {\n            tableData: [],\n            data: [],\n            carNumber: ''\n        };\n    },\n    created: function created() {\n        this.loadData();\n    },\n\n    methods: {\n        filterHandler: function filterHandler(value, row, column) {\n            console.log(\"filterHandler\");\n            var property = column['property'];\n            return row[property] === value;\n        },\n        search: function search() {\n            var _this = this;\n\n            if (!this.carNumber) {\n                this.$notify.warning({ title: '提示', message: '请输入车牌号' });\n                return;\n            }\n            this.$http.get(\"/api/info/carNumber\", { params: { carNumber: this.carNumber } }).then(function (response) {\n                if (response.body.code == 0) {\n                    var records = response.body.data.records;\n                    if (records.length == 0) {\n                        _this.$notify.warning({ title: \"提示\", message: \"未找到车辆数据\" });\n                        return;\n                    }\n                    if (records.length != 1) {\n                        _this.$notify.warning({ title: \"提示\", message: \"请输入完整车牌号\" });\n                        return;\n                    }\n                    var info = records[0];\n                    _this.active(info.carSn);\n                } else {\n                    _this.$notify.warning({ title: \"提示\", message: response.body.msg });\n                }\n            });\n        },\n        active: function active(carSn) {\n            var _this2 = this;\n\n            if (carSn) {\n                this.$http.get(\"/api/info/active\", { params: { carSn: carSn } }).then(function (response) {\n                    if (response.body.code == 0) {\n                        _this2.$notify.success({ title: \"成功\", message: \"激活成功\" });\n                        _this2.carNumber = '';\n                        _this2.loadData();\n                    } else {\n                        _this2.$notify.warning({ title: \"提示\", message: response.body.msg });\n                    }\n                });\n            }\n        },\n        loadData: function loadData() {\n            var _this3 = this;\n\n            this.$http.get(\"/api/info\").then(function (response) {\n                if (response.body.code == 0) {\n                    _this3.data = [];\n                    response.body.data.forEach(function (info) {\n                        var obj = {\n                            id: info.id,\n                            carNumber: info.carNumber,\n                            online: info.tbox.connected,\n                            soc: info.status.soc.toFixed(1),\n                            odo: info.status.odo.toFixed(0),\n                            acc: info.status.acc,\n                            charging: info.status.charging,\n                            ready: info.status.ready,\n                            door: info.status.door,\n                            lock: info.status.lock,\n                            speed: info.status.speed.toFixed(1)\n                        };\n                        _this3.data.push(obj);\n                    });\n                    _this3.fillTable();\n                }\n            });\n        },\n        fillTable: function fillTable() {\n            var _this4 = this;\n\n            var self = this;\n            this.tableData = [];\n            this.data.forEach(function (info) {\n                if (self.fillter(info.carNumber)) {\n                    _this4.tableData.push(info);\n                }\n            });\n        },\n        fillter: function fillter(carNumber) {\n            if (this.carNumber == '') {\n                return true;\n            }\n            var inputRegx = new RegExp(this.carNumber, \"i\");\n            if (inputRegx.test(carNumber)) {\n                return true;\n            }\n            if (inputRegx.test(carNumber.replace(/[^0-9]/ig, \"\"))) {\n                return true;\n            }\n            return false;\n        },\n        carNumberChange: function carNumberChange() {\n            this.fillTable();\n        },\n        detail: function detail(id) {\n            this.$router.push(\"/car/\" + id);\n        }\n    }\n});\n\n/***/ }),\n\n/***/ 185:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"cars\"}},[_c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',[_c('a',{attrs:{\"href\":\"/\"}},[_vm._v(\"车辆列表\")])])],1),_vm._v(\" \"),_c('div',{staticStyle:{\"margin-top\":\"20px\"}},[_c('el-input',{attrs:{\"placeholder\":\"车牌号\"},on:{\"change\":_vm.carNumberChange},model:{value:(_vm.carNumber),callback:function ($$v) {_vm.carNumber=$$v},expression:\"carNumber\"}}),_vm._v(\" \"),_c('el-button',{on:{\"click\":_vm.search}},[_vm._v(\"激活\")])],1),_vm._v(\" \"),_c('div',{staticStyle:{\"margin-top\":\"20px\"}},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"stripe\":\"\",\"border\":\"\"}},[_c('el-table-column',{attrs:{\"label\":\"车牌号\",\"width\":\"180\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('router-link',{staticStyle:{\"color\":\"#409eff\",\"text-decoration\":\"none\"},attrs:{\"to\":'/car/'+scope.row.id}},[_vm._v(_vm._s(scope.row.carNumber))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"在线\",\"width\":\"90\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.online)?_c('i',{staticClass:\"el-icon-circle-check\",staticStyle:{\"color\":\"#67C23A\",\"font-size\":\"x-large\"}}):_c('i',{staticClass:\"el-icon-circle-close\",staticStyle:{\"color\":\"#F56C6C\",\"font-size\":\"x-large\"}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"soc\",\"label\":\"SOC(%)\",\"width\":\"90\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"odo\",\"label\":\"ODO(km)\",\"width\":\"90\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"点火\",\"width\":\"90\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.acc)?_c('i',{staticClass:\"el-icon-circle-check\",staticStyle:{\"color\":\"#67C23A\",\"font-size\":\"x-large\"}}):_c('i',{staticClass:\"el-icon-circle-close\",staticStyle:{\"color\":\"#F56C6C\",\"font-size\":\"x-large\"}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"充电\",\"width\":\"90\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.charging)?_c('i',{staticClass:\"el-icon-circle-check\",staticStyle:{\"color\":\"#67C23A\",\"font-size\":\"x-large\"}}):_c('i',{staticClass:\"el-icon-circle-close\",staticStyle:{\"color\":\"#F56C6C\",\"font-size\":\"x-large\"}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"READY\",\"width\":\"90\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.ready)?_c('i',{staticClass:\"el-icon-circle-check\",staticStyle:{\"color\":\"#67C23A\",\"font-size\":\"x-large\"}}):_c('i',{staticClass:\"el-icon-circle-close\",staticStyle:{\"color\":\"#F56C6C\",\"font-size\":\"x-large\"}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"车门\",\"width\":\"90\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.door)?_c('i',{staticClass:\"el-icon-circle-check\",staticStyle:{\"color\":\"#67C23A\",\"font-size\":\"x-large\"}}):_c('i',{staticClass:\"el-icon-circle-close\",staticStyle:{\"color\":\"#F56C6C\",\"font-size\":\"x-large\"}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"车锁\",\"width\":\"90\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.lock)?_c('i',{staticClass:\"el-icon-circle-check\",staticStyle:{\"color\":\"#67C23A\",\"font-size\":\"x-large\"}}):_c('i',{staticClass:\"el-icon-circle-close\",staticStyle:{\"color\":\"#F56C6C\",\"font-size\":\"x-large\"}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"speed\",\"label\":\"时速(km/h)\",\"width\":\"100\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('router-link',{attrs:{\"to\":'/car/direction/'+scope.row.id}},[_c('el-button',{attrs:{\"type\":\"text\"}},[_vm._v(\"导航\")])],1)]}}])})],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// 2.js?43216af7ffa2db929a6c","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Cars.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Cars.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-8f3af044\\\",\\\"hasScoped\\\":false,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Cars.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/page/Cars.vue\n// module id = 173\n// module chunks = 2","<template>\n    <div id=\"cars\">\n        <el-breadcrumb separator-class=\"el-icon-arrow-right\">\n            <el-breadcrumb-item><a href=\"/\">车辆列表</a></el-breadcrumb-item>\n        </el-breadcrumb>\n        <div style=\"margin-top: 20px;\">\n            <el-input placeholder=\"车牌号\" v-model=\"carNumber\" v-on:change=\"carNumberChange\"></el-input>\n            <el-button @click=\"search\" >激活</el-button>\n        </div>\n        <div style=\"margin-top: 20px;\">\n            <el-table :data=\"tableData\" stripe border style=\"width: 100%\">\n                <el-table-column label=\"车牌号\" width=\"180\">\n                    <template slot-scope=\"scope\">\n                        <router-link :to=\"'/car/'+scope.row.id\" style=\"color:#409eff;text-decoration: none;\">{{scope.row.carNumber}}</router-link>\n                    </template>\n                </el-table-column>\n                <el-table-column label=\"在线\" width=\"90\">\n                    <template slot-scope=\"scope\">\n                        <i v-if=\"scope.row.online\" class=\"el-icon-circle-check\" style=\"color:#67C23A;font-size: x-large\"></i>\n                        <i v-else class=\"el-icon-circle-close\" style=\"color:#F56C6C;font-size: x-large\"></i>\n                    </template>\n                </el-table-column>\n                <el-table-column prop=\"soc\" label=\"SOC(%)\" width=\"90\"></el-table-column>\n                <el-table-column prop=\"odo\" label=\"ODO(km)\" width=\"90\"></el-table-column>\n                <el-table-column label=\"点火\" width=\"90\">\n                    <template slot-scope=\"scope\">\n                        <i v-if=\"scope.row.acc\" class=\"el-icon-circle-check\" style=\"color:#67C23A;font-size: x-large\"></i>\n                        <i v-else class=\"el-icon-circle-close\" style=\"color:#F56C6C;font-size: x-large\"></i>\n                    </template>\n                </el-table-column>\n                <el-table-column label=\"充电\" width=\"90\">\n                    <template slot-scope=\"scope\">\n                        <i v-if=\"scope.row.charging\" class=\"el-icon-circle-check\" style=\"color:#67C23A;font-size: x-large\"></i>\n                        <i v-else class=\"el-icon-circle-close\" style=\"color:#F56C6C;font-size: x-large\"></i>\n                    </template>\n                </el-table-column>\n                <el-table-column label=\"READY\" width=\"90\">\n                    <template slot-scope=\"scope\">\n                        <i v-if=\"scope.row.ready\" class=\"el-icon-circle-check\" style=\"color:#67C23A;font-size: x-large\"></i>\n                        <i v-else class=\"el-icon-circle-close\" style=\"color:#F56C6C;font-size: x-large\"></i>\n                    </template></el-table-column>\n                <el-table-column label=\"车门\" width=\"90\">\n                    <template slot-scope=\"scope\">\n                        <i v-if=\"scope.row.door\" class=\"el-icon-circle-check\" style=\"color:#67C23A;font-size: x-large\"></i>\n                        <i v-else class=\"el-icon-circle-close\" style=\"color:#F56C6C;font-size: x-large\"></i>\n                    </template></el-table-column>\n                <el-table-column label=\"车锁\" width=\"90\">\n                    <template slot-scope=\"scope\">\n                        <i v-if=\"scope.row.lock\" class=\"el-icon-circle-check\" style=\"color:#67C23A;font-size: x-large\"></i>\n                        <i v-else class=\"el-icon-circle-close\" style=\"color:#F56C6C;font-size: x-large\"></i>\n                    </template></el-table-column>\n                <el-table-column prop=\"speed\" label=\"时速(km/h)\" width=\"100\"></el-table-column>\n                <el-table-column label=\"操作\">\n                    <template slot-scope=\"scope\">\n                        <router-link :to=\"'/car/direction/'+scope.row.id\"><el-button type=\"text\" >导航</el-button></router-link>\n                    </template></el-table-column>\n            </el-table>\n        </div>\n    </div>\n</template>\n\n<script>\n    export default {\n        data() {\n            return {\n                tableData: [],\n                data:[],\n                carNumber: ''\n            }\n        },\n        created() {\n            this.loadData();\n        },\n        methods : {\n            filterHandler(value, row, column) {\n                console.log(\"filterHandler\");\n                const property = column['property'];\n                return row[property] === value;\n            },\n            search(){\n                if(!this.carNumber){\n                    this.$notify.warning({title: '提示',message: '请输入车牌号'});\n                    return;\n                }\n                this.$http.get(\"/api/info/carNumber\",{params:{carNumber:this.carNumber}}).then(response=>{\n                    if(response.body.code == 0){\n                        var records = response.body.data.records;\n                        if(records.length == 0){\n                            this.$notify.warning({title:\"提示\",message:\"未找到车辆数据\"});\n                            return\n                        }\n                        if(records.length != 1){\n                            this.$notify.warning({title:\"提示\",message:\"请输入完整车牌号\"});\n                            return\n                        }\n                        var info = records[0];\n                        this.active(info.carSn);\n                    }else{\n                        this.$notify.warning({title:\"提示\",message:response.body.msg});\n                    }\n                })\n            },\n            active(carSn){\n                if(carSn){\n                    this.$http.get(\"/api/info/active\",{params:{carSn:carSn}}).then(response=>{\n                        if(response.body.code == 0){\n                            this.$notify.success({title:\"成功\",message:\"激活成功\"});\n                            this.carNumber='';\n                            this.loadData();\n                        }else{\n                            this.$notify.warning({title:\"提示\",message:response.body.msg});\n                        }\n                    })\n                }\n            },\n            loadData(){\n                this.$http.get(\"/api/info\").then(response=>{\n                    if(response.body.code == 0){\n                        this.data = [];\n                        response.body.data.forEach(info=>{\n                            var obj = {\n                                id: info.id,\n                                carNumber: info.carNumber,\n                                online: info.tbox.connected,\n                                soc: info.status.soc.toFixed(1),\n                                odo: info.status.odo.toFixed(0),\n                                acc: info.status.acc,\n                                charging: info.status.charging,\n                                ready: info.status.ready,\n                                door: info.status.door,\n                                lock: info.status.lock,\n                                speed: info.status.speed.toFixed(1),\n                            }\n                            this.data.push(obj);\n                        });\n                        this.fillTable();\n                    }\n                })\n            },\n            fillTable(){\n                var self = this;\n                this.tableData = [];\n                this.data.forEach(info=>{\n                    if(self.fillter(info.carNumber)){\n                        this.tableData.push(info);\n                    }\n                });\n            },\n            fillter(carNumber){\n                if(this.carNumber==''){\n                    return true;\n                }\n                var inputRegx = new RegExp(this.carNumber,\"i\");\n                if(inputRegx.test(carNumber)){\n                    return true;\n                }\n                if(inputRegx.test(carNumber.replace(/[^0-9]/ig,\"\"))){\n                    return true;\n                }\n                return false;\n            },\n            carNumberChange(){\n                this.fillTable();\n            },\n            detail(id){\n                this.$router.push(\"/car/\"+id);\n            }\n        }\n    }\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/page/Cars.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"cars\"}},[_c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',[_c('a',{attrs:{\"href\":\"/\"}},[_vm._v(\"车辆列表\")])])],1),_vm._v(\" \"),_c('div',{staticStyle:{\"margin-top\":\"20px\"}},[_c('el-input',{attrs:{\"placeholder\":\"车牌号\"},on:{\"change\":_vm.carNumberChange},model:{value:(_vm.carNumber),callback:function ($$v) {_vm.carNumber=$$v},expression:\"carNumber\"}}),_vm._v(\" \"),_c('el-button',{on:{\"click\":_vm.search}},[_vm._v(\"激活\")])],1),_vm._v(\" \"),_c('div',{staticStyle:{\"margin-top\":\"20px\"}},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"stripe\":\"\",\"border\":\"\"}},[_c('el-table-column',{attrs:{\"label\":\"车牌号\",\"width\":\"180\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('router-link',{staticStyle:{\"color\":\"#409eff\",\"text-decoration\":\"none\"},attrs:{\"to\":'/car/'+scope.row.id}},[_vm._v(_vm._s(scope.row.carNumber))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"在线\",\"width\":\"90\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.online)?_c('i',{staticClass:\"el-icon-circle-check\",staticStyle:{\"color\":\"#67C23A\",\"font-size\":\"x-large\"}}):_c('i',{staticClass:\"el-icon-circle-close\",staticStyle:{\"color\":\"#F56C6C\",\"font-size\":\"x-large\"}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"soc\",\"label\":\"SOC(%)\",\"width\":\"90\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"odo\",\"label\":\"ODO(km)\",\"width\":\"90\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"点火\",\"width\":\"90\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.acc)?_c('i',{staticClass:\"el-icon-circle-check\",staticStyle:{\"color\":\"#67C23A\",\"font-size\":\"x-large\"}}):_c('i',{staticClass:\"el-icon-circle-close\",staticStyle:{\"color\":\"#F56C6C\",\"font-size\":\"x-large\"}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"充电\",\"width\":\"90\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.charging)?_c('i',{staticClass:\"el-icon-circle-check\",staticStyle:{\"color\":\"#67C23A\",\"font-size\":\"x-large\"}}):_c('i',{staticClass:\"el-icon-circle-close\",staticStyle:{\"color\":\"#F56C6C\",\"font-size\":\"x-large\"}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"READY\",\"width\":\"90\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.ready)?_c('i',{staticClass:\"el-icon-circle-check\",staticStyle:{\"color\":\"#67C23A\",\"font-size\":\"x-large\"}}):_c('i',{staticClass:\"el-icon-circle-close\",staticStyle:{\"color\":\"#F56C6C\",\"font-size\":\"x-large\"}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"车门\",\"width\":\"90\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.door)?_c('i',{staticClass:\"el-icon-circle-check\",staticStyle:{\"color\":\"#67C23A\",\"font-size\":\"x-large\"}}):_c('i',{staticClass:\"el-icon-circle-close\",staticStyle:{\"color\":\"#F56C6C\",\"font-size\":\"x-large\"}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"车锁\",\"width\":\"90\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.lock)?_c('i',{staticClass:\"el-icon-circle-check\",staticStyle:{\"color\":\"#67C23A\",\"font-size\":\"x-large\"}}):_c('i',{staticClass:\"el-icon-circle-close\",staticStyle:{\"color\":\"#F56C6C\",\"font-size\":\"x-large\"}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"speed\",\"label\":\"时速(km/h)\",\"width\":\"100\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('router-link',{attrs:{\"to\":'/car/direction/'+scope.row.id}},[_c('el-button',{attrs:{\"type\":\"text\"}},[_vm._v(\"导航\")])],1)]}}])})],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-8f3af044\",\"hasScoped\":false,\"buble\":{\"transforms\":{}}}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/page/Cars.vue\n// module id = 185\n// module chunks = 2"],"sourceRoot":""}